{% extends "internal/base.html" %}
{% load breadcrumbs %}

{% block breadcrumbs %}
  {{ block.super }}
  {% breadcrumb_url "Données" "database" %}
  {% breadcrumb_url "Groupes de tutorat" "tutoringgroups" %}
  {% breadcrumb_active tutoring_group %}
{% endblock %}

{% block content %}
<div class="text-center">
  <div class="jumbotron bg-light">
    <h4 class="text-muted">Groupe de tutorat</h4>
    <h1 class="display-4">{{ tutoring_group }}</h1>
  <h2><a href="{{ tutoring_group.high_school.get_absolute_url }}">{{ tutoring_group.high_school }}</a></h2>
    <p>
      Année ??? — {{ tutoring_group.tutoree_set.count }} lycéens, {{ tutoring_group.tutor_set.count }} tuteurs (encadrement ???) —
      Les séances se déroulent ??? le ??? de ???h à ???h —
      Tuteurs : rendez-vous ???
    </p>
  </div>
</div>

<div class="card-columns">

  <div class="card">
    <div class="card-header">
      <h4 class="card-title">
        Séances de tutorat
      </h4>
      <div class="dropdown">
        <button class="btn btn-sm dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Séances à venir
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <!-- TODO implement links to these item -->
          <a class="dropdown-item" href="#">Séances à venir</a>
          <a class="dropdown-item" href="#">Toutes les séances</a>
          <a class="dropdown-item" href="#">Séances passées</a>
        </div>
      </div>
    </div>
    <ul class="list-group list-group-flush">
      {% for meeting in tutoring_group.upcoming_meetings %}
        <a class="list-group-item list-group-item-action" href="{{ meeting.get_absolute_url }}">{{ meeting }}</a>
      {% endfor %}
    </ul>
  </div>

  <div class="card">
    <h4 class="card-header">Lycéens <span class="badge badge-secondary">{{ tutoring_group.tutoree_set.count }}</span></h4>
    <ul class="list-group list-group-flush">
      {% for tutoree in tutoring_group.tutoree_set.all %}
      <a class="list-group-item list-group-item-action" href="{{ tutoree.get_absolute_url }}">{{ tutoree }}</a>
      {% endfor %}
    </ul>
  </div>

  <div class="card">
    <h4 class="card-header">Tuteurs <span class="badge badge-secondary">{{ tutoring_group.tutor_set.count }}</span></h4>
    <ul class="list-group list-group-flush">
      {% for tutor in tutoring_group.tutor_set.all %}
      <a class="list-group-item list-group-item-action" href="{{ tutor.get_absolute_url }}">{{ tutor }}</a>
      {% endfor %}
    </ul>
  </div>

</div>
{% endblock %}
